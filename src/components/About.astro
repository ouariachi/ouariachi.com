---
import CV from "./Icons/CV.astro";

const { t, lang } = Astro.props;

const timeline = [
  {
    title: t("timeline.0.title"),
    description: t("timeline.0.description"),
    date: t("timeline.0.date"),
    cta: true,
    ctaLink: `/${lang}/contact`
  },
  {
    title: t("timeline.1.title"),
    description: t("timeline.1.description"),
    date: t("timeline.1.date"),
    cta: false
  }
]

const cv = lang === "es" ? "/mohamed_el_ouariachi_cv_es.pdf" : "/mohamed_el_ouariachi_cv_en.pdf";
---

<div class="text-text/80 mt-5 mb-10 px-4 md:px-0">
  <h3 class="text-base md:text-xl font-bold ">{t("home.about")}</h3>
  
  <div class="mt-7 text-text/70">
    <a 
      href={cv} 
      target="_blank" 
      rel="noopener noreferrer" 
      class="flex gap-2 w-fit py-2 px-3 font-bold font-amulya border border-text/50 rounded-lg bg-text/10 hover:bg-text/20 transition-all"
    >
      {t("home.cv")} <CV />
    </a>
  </di>

  <div class="mt-10 pb-20">
    <h2 class="text-xl font-bold font-amulya">{t("home.about.experience")}</h2>
    <ul class="relative border-s border-gray-500 dark:border-gray-700">                  
      {timeline.map((item) => (
        <li class="mb-10 ms-4">
          <div class="absolute w-3 h-3 bg-gray-400 rounded-full mt-1.5 -start-1.5 border border-gray-500 dark:border-gray-700 dark:bg-gray-900"></div>
          <time class="mb-1 text-sm font-normal leading-none text-text/80">
            {item.date}
          </time>
          <h3 class="text-lg font-semibold text-text">
            {item.title}
          </h3>
          <p class="mb-4 text-base font-normal text-text/70">
            {item.description}
          </p>
          { item.cta &&
            <a 
              href={item.ctaLink}
              class="group flex items-center px-4 py-2 text-sm font-medium text-text/70 bg-text/10 w-fit rounded-lg hover:bg-text/40 hover:text-text transition-all"
            >
              {t("timeline.cta")}
              <svg class="group-hover:translate-x-1 w-3 h-3 ms-2 rtl:rotate-180 transition-all" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
              </svg>
            </a>
          }
        </li>
      ))}
    </ul>
  </div>
</div>